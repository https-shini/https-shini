name: ğŸ“ Blog Posts Update

on:
  schedule:
    - cron: "0 6 * * *" # todo dia Ã s 06h UTC
  workflow_dispatch:

jobs:
  update-blog-posts:
    name: Atualizar posts recentes no README
    runs-on: ubuntu-latest

    permissions:
      contents: write

    steps:
      - name: ğŸ“¥ Checkout do repositÃ³rio
        uses: actions/checkout@v4

      - name: ğŸ“ Buscar posts recentes
        uses: gautamkrishnar/blog-post-workflow@v1
        with:
          # Troque pela URL do seu feed RSS quando criar seu blog
          # Dev.to:   https://dev.to/feed/SEU_USUARIO
          # Medium:   https://medium.com/feed/@SEU_USUARIO
          # Hashnode: https://SEU_USUARIO.hashnode.dev/rss.xml
          feed_list: "https://dev.to/feed/https-shini"
          max_post_count: 5
          readme_path: ./README.md
          comment_tag_name: "BLOG-POST-LIST"
          # No README, adicione este marcador onde quer que os posts apareÃ§am:
          # <!-- BLOG-POST-LIST:START -->
          # <!-- BLOG-POST-LIST:END -->
          template: "- [$title]($url) â€” $date"
          date_format: "dd/MM/yyyy"

      - name: ğŸ’¾ Commit das mudanÃ§as
        uses: EndBug/add-and-commit@v9
        with:
          message: "ğŸ“ Atualizando posts recentes do blog"
          add: "README.md"
          default_author: github_actions
